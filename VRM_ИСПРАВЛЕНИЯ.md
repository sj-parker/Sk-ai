# üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è VRM –æ–≤–µ—Ä–ª–µ—è

## üìã –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–µ—à–µ–Ω—ã

### 1. ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–Ω–æ–ø–∫–∏ —ç–º–æ—Ü–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ" –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞, —Ç–∞–∫ –∫–∞–∫ –≤ –∫–æ–¥–µ –Ω–µ –±—ã–ª–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —ç–º–æ—Ü–∏–∏ `neutral`.

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–º–æ—Ü–∏–∏ `neutral` –≤ –º–µ—Ç–æ–¥ `applyEmotion()`
- ‚úÖ –≠–º–æ—Ü–∏—è `neutral` —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ BlendShapes

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `VRMoverlay/src/main.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `neutral` —ç–º–æ—Ü–∏–∏

### 2. ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–≤–µ—Ä–ª–µ—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π –∏—Å—á–µ–∑–∞–ª —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ (5 —Å–µ–∫—É–Ω–¥).

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–æ –≤—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ 12 —Å–µ–∫—É–Ω–¥
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω –¥–∏–∑–∞–π–Ω —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–≤–µ—Ä–ª–µ—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `VRMoverlay/src/vrm-websocket.js` - —É–ª—É—á—à–µ–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π

## üé® –£–ª—É—á—à–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞

### –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π
- üåà –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º —Ä–∞–∑–º—ã—Ç–∏—è
- üìè –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ (1.8em)
- üé≠ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç–µ–Ω–∏ –∏ –≥—Ä–∞–Ω–∏—Ü—ã
- ‚è±Ô∏è –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è (300ms –ø–æ—è–≤–ª–µ–Ω–∏–µ, 500ms –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ)
- üìç –õ—É—á—à–µ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (25vh –æ—Ç –Ω–∏–∑–∞ —ç–∫—Ä–∞–Ω–∞)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```javascript
this.textOverlayConfig = {
    defaultDuration: 12000, // 12 —Å–µ–∫—É–Ω–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    minDuration: 3000,      // –ú–∏–Ω–∏–º—É–º 3 —Å–µ–∫—É–Ω–¥—ã
    maxDuration: 30000,     // –ú–∞–∫—Å–∏–º—É–º 30 —Å–µ–∫—É–Ω–¥
    fadeInTime: 300,        // –í—Ä–µ–º—è –ø–æ—è–≤–ª–µ–Ω–∏—è
    fadeOutTime: 500        // –í—Ä–µ–º—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
};
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- üìÑ `VRMoverlay/test_buttons.html` - –ø–æ–ª–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- üîß `test_vrm_buttons.bat` - batch —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

### –ß—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. **–≠–º–æ—Ü–∏–∏:** –í—Å–µ –∫–Ω–æ–ø–∫–∏ —ç–º–æ—Ü–∏–π (–≤–∫–ª—é—á–∞—è "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ")
2. **–¢–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
3. **–ê–Ω–∏–º–∞—Ü–∏–∏:** –†–∞–∑–ª–∏—á–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
4. **WebSocket:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –∫–Ω–æ–ø–æ–∫
test_vrm_buttons.bat

# –ò–ª–∏ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
VRM_Assistant_Menu.bat
# –í—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é 6Ô∏è‚É£ - –¢–µ—Å—Ç –∫–Ω–æ–ø–æ–∫ VRM
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å VRM –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:5173/test_buttons.html`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üìä –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|--------|----------|
| –ö–Ω–æ–ø–∫–∞ "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ" | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| –í—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ | ‚úÖ –£–ª—É—á—à–µ–Ω–æ | 12 —Å–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| –î–∏–∑–∞–π–Ω —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–≤–µ—Ä–ª–µ—è | ‚úÖ –£–ª—É—á—à–µ–Ω | –ì—Ä–∞–¥–∏–µ–Ω—Ç, –∞–Ω–∏–º–∞—Ü–∏—è |
| –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | ‚úÖ –°–æ–∑–¥–∞–Ω–∞ | –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| Batch —Ñ–∞–π–ª—ã | ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã | –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞:
```javascript
// –í vrm-websocket.js –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
this.textOverlayConfig.defaultDuration = 15000; // 15 —Å–µ–∫—É–Ω–¥
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–º–æ—Ü–∏–π:
```javascript
// –í main.js –≤ –º–µ—Ç–æ–¥–µ applyEmotion
const emotionBlendShapes = {
    'happy': ['Fcl_ALL_Joy', 'Fcl_ALL_Fun'],
    'sad': ['Fcl_ALL_Sorrow'],
    'angry': ['Fcl_ALL_Angry'],
    'surprised': ['Fcl_ALL_Surprised'],
    'neutral': [], // –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è —ç–º–æ—Ü–∏—è
    'wink': ['Fcl_EYE_Close_R', 'Fcl_EYE_Close_L'],
    'blink': ['Fcl_EYE_Close'],
    'new_emotion': ['Fcl_NEW_BlendShape'] // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —ç–º–æ—Ü–∏—é
};
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —ç–º–æ—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–ª–≥–æ –∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫—Ä–∞—Å–∏–≤–æ. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –æ–ø—ã—Ç–æ–º. 